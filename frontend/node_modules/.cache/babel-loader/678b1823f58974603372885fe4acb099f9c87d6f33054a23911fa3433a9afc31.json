{"ast":null,"code":"var _jsxFileName = \"/Volumes/t9/github/pmhelper/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport { Toaster } from 'react-hot-toast';\nimport LeftPanel from './components/LeftPanel';\nimport DocumentsPane from './components/DocumentsPane';\nimport ChatPane from './components/ChatPane';\nimport PRDEditor from './components/PRDEditor';\nimport { useStore } from './store/appStore';\nimport { ollamaService } from './services/ollamaService';\nimport { apiService } from './services/apiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContainer = styled.div`\n  display: flex;\n  height: 100vh;\n  background: #f5f5f5;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n`;\n_c = AppContainer;\nconst LeftPaneContainer = styled.div`\n  width: 280px;\n  background: #1a1d23;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n_c2 = LeftPaneContainer;\nconst MiddlePane = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-right: 1px solid #e0e0e0;\n  min-width: 400px;\n`;\n_c3 = MiddlePane;\nconst RightPane = styled.div`\n  width: 45%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n_c4 = RightPane;\nconst Header = styled.header`\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 1rem;\n  text-align: center;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n`;\n_c5 = Header;\nconst Title = styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n`;\n_c6 = Title;\nconst Subtitle = styled.p`\n  margin: 0.25rem 0 0 0;\n  opacity: 0.9;\n  font-size: 0.9rem;\n`;\n_c7 = Subtitle;\nfunction App() {\n  _s();\n  const {\n    currentPRD,\n    setCurrentPRD,\n    documents,\n    addDocument,\n    messages,\n    addMessage,\n    currentProject,\n    activeView\n  } = useStore();\n  const [isOllamaConnected, setIsOllamaConnected] = useState(false);\n  useEffect(() => {\n    // Initialize with a PRD template\n    initializePRD();\n    // Check Ollama connection\n    checkOllamaConnection();\n  }, []);\n  const initializePRD = async () => {\n    try {\n      const template = await apiService.getPRDTemplate('basic');\n      setCurrentPRD({\n        ...template,\n        title: 'New Product Requirements Document',\n        sections: {\n          ...template.sections,\n          overview: {\n            ...template.sections.overview,\n            content: 'This PRD outlines the requirements for our new product feature...'\n          }\n        }\n      });\n    } catch (error) {\n      // Use default template if API fails\n      setCurrentPRD(getDefaultPRDTemplate());\n    }\n  };\n  const checkOllamaConnection = async () => {\n    const connected = await ollamaService.checkConnection();\n    setIsOllamaConnected(connected);\n  };\n  const getDefaultPRDTemplate = () => ({\n    title: 'Product Requirements Document',\n    sections: {\n      overview: {\n        title: 'Product Overview',\n        content: '',\n        required: true,\n        prompts: ['What problem does this product solve?', 'Who is the target audience?', 'What is the product vision?', 'What is the value proposition?']\n      },\n      goals: {\n        title: 'Goals & Success Metrics',\n        content: '',\n        required: true,\n        prompts: ['What are the primary goals?', 'How will we measure success?', 'What are the KPIs?', 'What is the target adoption rate?']\n      },\n      businessObjectives: {\n        title: 'Business Objectives',\n        content: '',\n        required: true,\n        prompts: ['How does this align with business goals?', 'What is the expected ROI?', 'What is the revenue impact?', 'What are the cost implications?']\n      },\n      strategicFit: {\n        title: 'Strategic Fit',\n        content: '',\n        required: true,\n        prompts: ['How does this fit into our product strategy?', 'What are the competitive advantages?', 'How does this differentiate us?', 'What market opportunity does this address?']\n      },\n      userStories: {\n        title: 'User Stories',\n        content: '',\n        required: true,\n        template: 'As a [user type], I want to [action] so that [benefit]',\n        prompts: ['List key user personas', 'Define user journey maps', 'What are the main user scenarios?', 'What are the edge cases?']\n      },\n      userDesign: {\n        title: 'User Design & Interactions',\n        content: '',\n        required: true,\n        prompts: ['What are the key user flows?', 'What are the UI/UX requirements?', 'What are the accessibility requirements?', 'What are the mobile/responsive requirements?']\n      },\n      scope: {\n        title: 'Scope & Boundaries',\n        content: '',\n        required: true,\n        prompts: ['What is in scope for MVP?', 'What is out of scope?', 'What are the dependencies?', 'What are the constraints?']\n      },\n      questionsAndClarifications: {\n        title: 'Open Questions & Clarifications',\n        content: '',\n        required: false,\n        prompts: ['What needs stakeholder input?', 'What technical questions remain?', 'What assumptions are we making?', 'What risks need mitigation?']\n      },\n      requirements: {\n        title: 'Functional Requirements',\n        content: '',\n        required: true,\n        prompts: ['List must-have features', 'List nice-to-have features', 'Define acceptance criteria', 'What are the performance requirements?']\n      },\n      technicalSpecs: {\n        title: 'Technical Specifications',\n        content: '',\n        required: false,\n        prompts: ['What are the API requirements?', 'What are the data model requirements?', 'What are the integration points?', 'What are the security requirements?']\n      },\n      timeline: {\n        title: 'Timeline & Milestones',\n        content: '',\n        required: true,\n        prompts: ['What is the target launch date?', 'What are the key milestones?', 'What are the sprint goals?', 'What are the dependencies on timeline?']\n      }\n    },\n    missingRequired: [] // Track missing required sections\n  });\n  const handleSendMessage = async message => {\n    // Add user message\n    addMessage({\n      role: 'user',\n      content: message\n    });\n\n    // Get AI response with enhanced context\n    const contextDocs = documents.map(d => d.content).join('\\n\\n');\n    const prdSections = (currentPRD === null || currentPRD === void 0 ? void 0 : currentPRD.sections) || {};\n\n    // Determine if user is asking for help with specific content\n    const isAskingForContent = message.toLowerCase().includes('help me') || message.toLowerCase().includes('create') || message.toLowerCase().includes('write') || message.toLowerCase().includes('define') || message.toLowerCase().includes('my project') || message.toLowerCase().includes('my product');\n\n    // Build comprehensive prompt\n    let prompt = '';\n    if (isAskingForContent) {\n      // User wants help creating actual PRD content\n      prompt = `You are an expert Product Manager helping to create a comprehensive Product Requirements Document (PRD).\n\nIMPORTANT: The user is asking for help with THEIR specific project. They will provide a description of their product/project.\nYour job is to:\n1. Understand their project description\n2. Ask clarifying questions if the description is vague\n3. Help them create actual PRD content based on their project\n4. Fill in specific sections of the PRD template with relevant content\n\nCurrent PRD Template Structure:\n${JSON.stringify(prdSections, null, 2)}\n\nProject/Product Context from User:\n${contextDocs || 'No additional context provided yet'}\n\nUser's Request: ${message}\n\nInstructions:\n- If the user provides a project description, help them create specific PRD content for that project\n- If the description is vague, ask specific questions to gather more details\n- Don't just explain what a PRD is - actually help create one\n- Provide concrete, actionable content that can be directly used in their PRD\n- Focus on the specific section they're asking about, but ensure it aligns with the overall product vision`;\n    } else {\n      // General question or guidance\n      prompt = `You are a Product Manager assistant helping with PRD creation.\n\nCurrent PRD Template:\n${JSON.stringify(Object.keys(prdSections), null, 2)}\n\nUser Question: ${message}\n\nProvide helpful guidance about PRD best practices and answer their question.`;\n    }\n    try {\n      const response = await ollamaService.chat(prompt, JSON.stringify(currentPRD));\n      addMessage({\n        role: 'assistant',\n        content: response\n      });\n    } catch (error) {\n      console.error('Ollama error:', error);\n\n      // Provide helpful fallback response\n      const fallbackResponse = getFallbackResponse(message);\n      addMessage({\n        role: 'assistant',\n        content: fallbackResponse\n      });\n    }\n  };\n  const getFallbackResponse = message => {\n    const lowerMsg = message.toLowerCase();\n    if (lowerMsg.includes('user stor')) {\n      return `Here's how to write effective user stories:\n\n**Format:** As a [user type], I want to [action] so that [benefit]\n\n**Example:** As a product manager, I want to export PRDs as PDF so that I can share them with stakeholders offline.\n\n**Best Practices:**\n- Keep them focused on one capability\n- Write from the user's perspective\n- Include acceptance criteria\n- Make them testable`;\n    }\n    if (lowerMsg.includes('metric') || lowerMsg.includes('kpi')) {\n      return `Key metrics to include in your PRD:\n\n**User Metrics:**\n- Daily/Monthly Active Users (DAU/MAU)\n- User retention rate\n- User satisfaction (NPS)\n\n**Business Metrics:**\n- Revenue impact\n- Cost reduction\n- Time to market\n\n**Technical Metrics:**\n- Performance (load time, response time)\n- Reliability (uptime, error rate)\n- Scalability metrics`;\n    }\n    if (lowerMsg.includes('template')) {\n      return `We have 6 PRD templates available:\n\n1. **Lean PRD** - Quick, minimalist approach\n2. **Agile/Scrum** - User story focused\n3. **Startup** - Hypothesis-driven MVP\n4. **Amazon** - Working backwards from press release\n5. **Technical** - Engineering specifications\n6. **Enterprise** - Comprehensive documentation\n\nClick \"Templates\" in the left panel to use them.`;\n    }\n    return `I can help you improve your PRD. While Ollama is not currently connected, here are some suggestions:\n\n1. **Structure your PRD** with clear sections\n2. **Define the problem** you're solving\n3. **Identify target users** and their needs\n4. **Set measurable goals** and success metrics\n5. **Define scope** (what's in vs out)\n6. **Create user stories** with acceptance criteria\n7. **Include technical requirements** if needed\n8. **Add timeline** and milestones\n\nTry asking about specific sections like \"How do I write user stories?\" or \"What metrics should I include?\"`;\n  };\n  return /*#__PURE__*/_jsxDEV(AppContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LeftPaneContainer, {\n      children: /*#__PURE__*/_jsxDEV(LeftPanel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MiddlePane, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"\\uD83D\\uDCAC AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n          children: isOllamaConnected ? 'Connected to Ollama' : 'Ollama not connected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatPane, {\n        onSendMessage: handleSendMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RightPane, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"\\uD83D\\uDCDD PRD Editor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n          children: currentProject ? currentProject.title : 'Select a project to begin'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), currentProject ? /*#__PURE__*/_jsxDEV(PRDEditor, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '3rem',\n          textAlign: 'center',\n          color: '#999'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Project Selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select or create a project from the left panel to start working on a PRD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"piMscN0KgbE75G8RuZi1RTry0Z8=\", false, function () {\n  return [useStore];\n});\n_c8 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"AppContainer\");\n$RefreshReg$(_c2, \"LeftPaneContainer\");\n$RefreshReg$(_c3, \"MiddlePane\");\n$RefreshReg$(_c4, \"RightPane\");\n$RefreshReg$(_c5, \"Header\");\n$RefreshReg$(_c6, \"Title\");\n$RefreshReg$(_c7, \"Subtitle\");\n$RefreshReg$(_c8, \"App\");","map":{"version":3,"names":["React","useState","useEffect","styled","Toaster","LeftPanel","DocumentsPane","ChatPane","PRDEditor","useStore","ollamaService","apiService","jsxDEV","_jsxDEV","AppContainer","div","_c","LeftPaneContainer","_c2","MiddlePane","_c3","RightPane","_c4","Header","header","_c5","Title","h1","_c6","Subtitle","p","_c7","App","_s","currentPRD","setCurrentPRD","documents","addDocument","messages","addMessage","currentProject","activeView","isOllamaConnected","setIsOllamaConnected","initializePRD","checkOllamaConnection","template","getPRDTemplate","title","sections","overview","content","error","getDefaultPRDTemplate","connected","checkConnection","required","prompts","goals","businessObjectives","strategicFit","userStories","userDesign","scope","questionsAndClarifications","requirements","technicalSpecs","timeline","missingRequired","handleSendMessage","message","role","contextDocs","map","d","join","prdSections","isAskingForContent","toLowerCase","includes","prompt","JSON","stringify","Object","keys","response","chat","console","fallbackResponse","getFallbackResponse","lowerMsg","children","position","fileName","_jsxFileName","lineNumber","columnNumber","onSendMessage","style","padding","textAlign","color","_c8","$RefreshReg$"],"sources":["/Volumes/t9/github/pmhelper/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport { Toaster } from 'react-hot-toast';\nimport LeftPanel from './components/LeftPanel';\nimport DocumentsPane from './components/DocumentsPane';\nimport ChatPane from './components/ChatPane';\nimport PRDEditor from './components/PRDEditor';\nimport { useStore } from './store/appStore';\nimport { ollamaService } from './services/ollamaService';\nimport { apiService } from './services/apiService';\n\nconst AppContainer = styled.div`\n  display: flex;\n  height: 100vh;\n  background: #f5f5f5;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n`;\n\nconst LeftPaneContainer = styled.div`\n  width: 280px;\n  background: #1a1d23;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n\nconst MiddlePane = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  border-right: 1px solid #e0e0e0;\n  min-width: 400px;\n`;\n\nconst RightPane = styled.div`\n  width: 45%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n\nconst Header = styled.header`\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 1rem;\n  text-align: center;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n`;\n\nconst Title = styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n`;\n\nconst Subtitle = styled.p`\n  margin: 0.25rem 0 0 0;\n  opacity: 0.9;\n  font-size: 0.9rem;\n`;\n\nfunction App() {\n  const { \n    currentPRD, \n    setCurrentPRD, \n    documents,\n    addDocument,\n    messages,\n    addMessage,\n    currentProject,\n    activeView \n  } = useStore();\n\n  const [isOllamaConnected, setIsOllamaConnected] = useState(false);\n\n  useEffect(() => {\n    // Initialize with a PRD template\n    initializePRD();\n    // Check Ollama connection\n    checkOllamaConnection();\n  }, []);\n\n  const initializePRD = async () => {\n    try {\n      const template = await apiService.getPRDTemplate('basic');\n      setCurrentPRD({\n        ...template,\n        title: 'New Product Requirements Document',\n        sections: {\n          ...template.sections,\n          overview: {\n            ...template.sections.overview,\n            content: 'This PRD outlines the requirements for our new product feature...'\n          }\n        }\n      });\n    } catch (error) {\n      // Use default template if API fails\n      setCurrentPRD(getDefaultPRDTemplate());\n    }\n  };\n\n  const checkOllamaConnection = async () => {\n    const connected = await ollamaService.checkConnection();\n    setIsOllamaConnected(connected);\n  };\n\n  const getDefaultPRDTemplate = () => ({\n    title: 'Product Requirements Document',\n    sections: {\n      overview: {\n        title: 'Product Overview',\n        content: '',\n        required: true,\n        prompts: [\n          'What problem does this product solve?',\n          'Who is the target audience?',\n          'What is the product vision?',\n          'What is the value proposition?'\n        ]\n      },\n      goals: {\n        title: 'Goals & Success Metrics',\n        content: '',\n        required: true,\n        prompts: [\n          'What are the primary goals?',\n          'How will we measure success?',\n          'What are the KPIs?',\n          'What is the target adoption rate?'\n        ]\n      },\n      businessObjectives: {\n        title: 'Business Objectives',\n        content: '',\n        required: true,\n        prompts: [\n          'How does this align with business goals?',\n          'What is the expected ROI?',\n          'What is the revenue impact?',\n          'What are the cost implications?'\n        ]\n      },\n      strategicFit: {\n        title: 'Strategic Fit',\n        content: '',\n        required: true,\n        prompts: [\n          'How does this fit into our product strategy?',\n          'What are the competitive advantages?',\n          'How does this differentiate us?',\n          'What market opportunity does this address?'\n        ]\n      },\n      userStories: {\n        title: 'User Stories',\n        content: '',\n        required: true,\n        template: 'As a [user type], I want to [action] so that [benefit]',\n        prompts: [\n          'List key user personas',\n          'Define user journey maps',\n          'What are the main user scenarios?',\n          'What are the edge cases?'\n        ]\n      },\n      userDesign: {\n        title: 'User Design & Interactions',\n        content: '',\n        required: true,\n        prompts: [\n          'What are the key user flows?',\n          'What are the UI/UX requirements?',\n          'What are the accessibility requirements?',\n          'What are the mobile/responsive requirements?'\n        ]\n      },\n      scope: {\n        title: 'Scope & Boundaries',\n        content: '',\n        required: true,\n        prompts: [\n          'What is in scope for MVP?',\n          'What is out of scope?',\n          'What are the dependencies?',\n          'What are the constraints?'\n        ]\n      },\n      questionsAndClarifications: {\n        title: 'Open Questions & Clarifications',\n        content: '',\n        required: false,\n        prompts: [\n          'What needs stakeholder input?',\n          'What technical questions remain?',\n          'What assumptions are we making?',\n          'What risks need mitigation?'\n        ]\n      },\n      requirements: {\n        title: 'Functional Requirements',\n        content: '',\n        required: true,\n        prompts: [\n          'List must-have features',\n          'List nice-to-have features',\n          'Define acceptance criteria',\n          'What are the performance requirements?'\n        ]\n      },\n      technicalSpecs: {\n        title: 'Technical Specifications',\n        content: '',\n        required: false,\n        prompts: [\n          'What are the API requirements?',\n          'What are the data model requirements?',\n          'What are the integration points?',\n          'What are the security requirements?'\n        ]\n      },\n      timeline: {\n        title: 'Timeline & Milestones',\n        content: '',\n        required: true,\n        prompts: [\n          'What is the target launch date?',\n          'What are the key milestones?',\n          'What are the sprint goals?',\n          'What are the dependencies on timeline?'\n        ]\n      }\n    },\n    missingRequired: []  // Track missing required sections\n  });\n\n  const handleSendMessage = async (message) => {\n    // Add user message\n    addMessage({ role: 'user', content: message });\n\n    // Get AI response with enhanced context\n    const contextDocs = documents.map(d => d.content).join('\\n\\n');\n    const prdSections = currentPRD?.sections || {};\n    \n    // Determine if user is asking for help with specific content\n    const isAskingForContent = message.toLowerCase().includes('help me') || \n                               message.toLowerCase().includes('create') ||\n                               message.toLowerCase().includes('write') ||\n                               message.toLowerCase().includes('define') ||\n                               message.toLowerCase().includes('my project') ||\n                               message.toLowerCase().includes('my product');\n    \n    // Build comprehensive prompt\n    let prompt = '';\n    \n    if (isAskingForContent) {\n      // User wants help creating actual PRD content\n      prompt = `You are an expert Product Manager helping to create a comprehensive Product Requirements Document (PRD).\n\nIMPORTANT: The user is asking for help with THEIR specific project. They will provide a description of their product/project.\nYour job is to:\n1. Understand their project description\n2. Ask clarifying questions if the description is vague\n3. Help them create actual PRD content based on their project\n4. Fill in specific sections of the PRD template with relevant content\n\nCurrent PRD Template Structure:\n${JSON.stringify(prdSections, null, 2)}\n\nProject/Product Context from User:\n${contextDocs || 'No additional context provided yet'}\n\nUser's Request: ${message}\n\nInstructions:\n- If the user provides a project description, help them create specific PRD content for that project\n- If the description is vague, ask specific questions to gather more details\n- Don't just explain what a PRD is - actually help create one\n- Provide concrete, actionable content that can be directly used in their PRD\n- Focus on the specific section they're asking about, but ensure it aligns with the overall product vision`;\n    } else {\n      // General question or guidance\n      prompt = `You are a Product Manager assistant helping with PRD creation.\n\nCurrent PRD Template:\n${JSON.stringify(Object.keys(prdSections), null, 2)}\n\nUser Question: ${message}\n\nProvide helpful guidance about PRD best practices and answer their question.`;\n    }\n\n    try {\n      const response = await ollamaService.chat(prompt, JSON.stringify(currentPRD));\n      addMessage({ role: 'assistant', content: response });\n    } catch (error) {\n      console.error('Ollama error:', error);\n      \n      // Provide helpful fallback response\n      const fallbackResponse = getFallbackResponse(message);\n      addMessage({ \n        role: 'assistant', \n        content: fallbackResponse \n      });\n    }\n  };\n\n  const getFallbackResponse = (message) => {\n    const lowerMsg = message.toLowerCase();\n    \n    if (lowerMsg.includes('user stor')) {\n      return `Here's how to write effective user stories:\n\n**Format:** As a [user type], I want to [action] so that [benefit]\n\n**Example:** As a product manager, I want to export PRDs as PDF so that I can share them with stakeholders offline.\n\n**Best Practices:**\n- Keep them focused on one capability\n- Write from the user's perspective\n- Include acceptance criteria\n- Make them testable`;\n    }\n    \n    if (lowerMsg.includes('metric') || lowerMsg.includes('kpi')) {\n      return `Key metrics to include in your PRD:\n\n**User Metrics:**\n- Daily/Monthly Active Users (DAU/MAU)\n- User retention rate\n- User satisfaction (NPS)\n\n**Business Metrics:**\n- Revenue impact\n- Cost reduction\n- Time to market\n\n**Technical Metrics:**\n- Performance (load time, response time)\n- Reliability (uptime, error rate)\n- Scalability metrics`;\n    }\n\n    if (lowerMsg.includes('template')) {\n      return `We have 6 PRD templates available:\n\n1. **Lean PRD** - Quick, minimalist approach\n2. **Agile/Scrum** - User story focused\n3. **Startup** - Hypothesis-driven MVP\n4. **Amazon** - Working backwards from press release\n5. **Technical** - Engineering specifications\n6. **Enterprise** - Comprehensive documentation\n\nClick \"Templates\" in the left panel to use them.`;\n    }\n    \n    return `I can help you improve your PRD. While Ollama is not currently connected, here are some suggestions:\n\n1. **Structure your PRD** with clear sections\n2. **Define the problem** you're solving\n3. **Identify target users** and their needs\n4. **Set measurable goals** and success metrics\n5. **Define scope** (what's in vs out)\n6. **Create user stories** with acceptance criteria\n7. **Include technical requirements** if needed\n8. **Add timeline** and milestones\n\nTry asking about specific sections like \"How do I write user stories?\" or \"What metrics should I include?\"`;\n  };\n\n  return (\n    <AppContainer>\n      <Toaster position=\"top-right\" />\n      \n      <LeftPaneContainer>\n        <LeftPanel />\n      </LeftPaneContainer>\n\n      <MiddlePane>\n        <Header>\n          <Title>💬 AI Assistant</Title>\n          <Subtitle>\n            {isOllamaConnected ? 'Connected to Ollama' : 'Ollama not connected'}\n          </Subtitle>\n        </Header>\n        <ChatPane onSendMessage={handleSendMessage} />\n      </MiddlePane>\n\n      <RightPane>\n        <Header>\n          <Title>📝 PRD Editor</Title>\n          <Subtitle>\n            {currentProject ? currentProject.title : 'Select a project to begin'}\n          </Subtitle>\n        </Header>\n        {currentProject ? (\n          <PRDEditor />\n        ) : (\n          <div style={{ \n            padding: '3rem', \n            textAlign: 'center', \n            color: '#999' \n          }}>\n            <h3>No Project Selected</h3>\n            <p>Select or create a project from the left panel to start working on a PRD</p>\n          </div>\n        )}\n      </RightPane>\n    </AppContainer>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}